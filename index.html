<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <link rel="alternate" href="/atom.xml" title="æ±‚ç´¢ä¹‹å¿ƒ" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://ibitm.github.io').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    sidebarPadding: 40
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="æ±‚ç´¢ä¹‹å¿ƒ">
<meta property="og:url" content="https:&#x2F;&#x2F;ibitm.github.io&#x2F;index.html">
<meta property="og:site_name" content="æ±‚ç´¢ä¹‹å¿ƒ">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://ibitm.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>æ±‚ç´¢ä¹‹å¿ƒ</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">æ±‚ç´¢ä¹‹å¿ƒ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">ç‚¹æ»´ç¢ç£¨</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="æœç´¢..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/12/08/The_producer-consumer_model_with_ring_buffers_is_implemented_using_two_types_of_locks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/08/The_producer-consumer_model_with_ring_buffers_is_implemented_using_two_types_of_locks/" class="post-title-link" itemprop="url">ä½¿ç”¨ä¸¤ç§é”å®ç°å¸¦æœ‰ç¯å½¢ç¼“å†²åŒºçš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-12-08 11:03:22" itemprop="dateCreated datePublished" datetime="2019-12-08T11:03:22+08:00">2019-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/12/08/The_producer-consumer_model_with_ring_buffers_is_implemented_using_two_types_of_locks/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/12/08/The_producer-consumer_model_with_ring_buffers_is_implemented_using_two_types_of_locks/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ä½¿ç”¨synchronizedå…³é”®å­—"><a href="#ä½¿ç”¨synchronizedå…³é”®å­—" class="headerlink" title="ä½¿ç”¨synchronizedå…³é”®å­—"></a>ä½¿ç”¨<code>synchronized</code>å…³é”®å­—</h2><p>æˆ‘ä»¬ä½¿ç”¨<strong>åŒæŒ‡é’ˆ</strong>æ³•æ„å»ºäº†ä¸€ä¸ªç¯å½¢ç¼“å†²åŒºï¼Œä½¿ç”¨ç¯å½¢ç¼“å†²åŒºæœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹</p>
<ul>
<li><p>å…¶ä¸­ head è¡¨ç¤ºç¼“å†²åŒºçš„å¼€å§‹ï¼Œtail è¡¨ç¤ºç¼“å†²åŒºçš„ç»“æŸï¼Œ[head,tail) å‰é—­åå¼€è¡¨ç¤ºç¼“å†²åŒºä¸­æœ‰æ•°æ®çš„ç©ºé—´ã€‚</p>
<ul>
<li>åˆå§‹åŒ– head = tail = 0 è¡¨ç¤ºç¼“å†²åŒºä¸ºç©º</li>
<li>éšç€ç”Ÿäº§ç‰©å“ tail ä¸æ–­çš„å¢åŠ  <code>tail = (tail + 1) % CAPACITY</code></li>
<li>ç›´åˆ° <code>(tail + 1) % CAPACITY == head</code>è¡¨ç¤ºç¼“å†²åŒºæ»¡</li>
</ul>
</li>
<li><p>æœ‰ä¸€ä¸ªç©ºé—´ä¼šè¢«ç©ºç½®ï¼Œä½œä¸ºç¼“å†²åŒºæ»¡çš„åˆ¤æ–­æ ‡å¿—ï¼Œæ‰€ä»¥çœŸæ­£çš„å®¹é‡ä¸º CAPACITY - 1ã€‚</p>
</li>
</ul>
<p>å…¶æ¬¡ï¼Œå…³äº synchronized å…³é”®å­—æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹</p>
<ul>
<li>synchronized æ˜¯è¦ç»“åˆ <code>Object.wait()</code> å’Œ <code>Object.notify</code> æˆ–è€… <code>Object.notifyAll()</code> ä½¿ç”¨ï¼Œå…·ä½“è¯´æ˜è¯·çœ‹æ–‡ç«  <a href="https://zhuanlan.zhihu.com/p/76625784" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆwait()å’Œnotify()éœ€è¦æ­é…synchonizedå…³é”®å­—ä½¿ç”¨?</a></li>
<li>å› ä¸º synchronized åªæœ‰ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œå½“å¤šç”Ÿäº§è€…å¤šæ¶ˆè´¹è€…æ—¶ï¼Œå”¤é†’æ—¶éœ€è¦ä½¿ç”¨ <code>Object.notifyAll()</code></li>
<li>è¿˜æœ‰å°±æ˜¯å¯èƒ½ä¼šå‡ºç°çš„ä¸­æ–­å¼‚å¸¸ InterruptedException ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> CAPACITY = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] buffer = <span class="keyword">new</span> <span class="keyword">int</span>[CAPACITY];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> head = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> tail = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="comment">//ç”Ÿäº§è€…</span></span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">                <span class="keyword">synchronized</span> (buffer) {</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">100</span>; i++) {</span><br><span class="line">                        <span class="keyword">while</span> ((tail + <span class="number">1</span>) % CAPACITY == head) {</span><br><span class="line">                            <span class="keyword">try</span> {</span><br><span class="line">                                buffer.wait();</span><br><span class="line">                            } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">                                e.printStackTrace();</span><br><span class="line">                            }</span><br><span class="line">                        }</span><br><span class="line">                        buffer[tail] = i;</span><br><span class="line">                        tail = (tail + <span class="number">1</span>) % CAPACITY;</span><br><span class="line">                        System.out.println(<span class="string">"ç”Ÿäº§è€…ç”Ÿäº§äº†"</span> + i);</span><br><span class="line">                        buffer.notifyAll();</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ¶ˆè´¹è€…</span></span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">                <span class="keyword">synchronized</span> (buffer) {</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">100</span>; i++) {</span><br><span class="line">                        <span class="keyword">while</span> (head == tail) {</span><br><span class="line">                            <span class="keyword">try</span> {</span><br><span class="line">                                buffer.wait();</span><br><span class="line">                            } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">                                e.printStackTrace();</span><br><span class="line">                            }</span><br><span class="line">                        }</span><br><span class="line">                        System.out.println(<span class="string">"æ¶ˆè´¹è€…æ¶ˆè´¹äº†"</span> + buffer[head]);</span><br><span class="line">                        head = (head + <span class="number">1</span>) % CAPACITY;</span><br><span class="line">                        buffer.notifyAll();</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }).start();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="ä½¿ç”¨ReentrantLockå®ç°"><a href="#ä½¿ç”¨ReentrantLockå®ç°" class="headerlink" title="ä½¿ç”¨ReentrantLockå®ç°"></a>ä½¿ç”¨<code>ReentrantLock</code>å®ç°</h2><p>å¯¹æ¯” ReentrantLock å’Œ synchronized å¯ä»¥çœ‹å‡ºä¸¤è€…çš„å·®åˆ«ï¼ˆæœ€åä¼šæ€»ç»“äºŒè€…çš„åŒºåˆ«ï¼‰</p>
<ul>
<li>synchronized åªèƒ½æœ‰ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œè€Œ ReentrantLock å¯ä»¥é€šè¿‡æ·»åŠ å¤šä¸ªæ¡ä»¶äº’æ–¥é‡å¢åŠ é˜»å¡é˜Ÿåˆ—çš„ä¸ªæ•°</li>
</ul>
<p>ä½¿ç”¨ ReentrantLock æœ‰ä¸€ä¸ªæ³¨æ„çš„åœ°æ–¹ï¼Œè¦åœ¨åœ¨ finally ä¸­å…³é—­é”ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> class <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">private</span> Lock lock=<span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMethod</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">try</span>{</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="comment">//code</span></span><br><span class="line">        } </span><br><span class="line">        <span class="keyword">finally</span>{</span><br><span class="line">            lock.unlock();</span><br><span class="line">        }   </span><br><span class="line">    }  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> CAPACITY = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] buffer = <span class="keyword">new</span> <span class="keyword">int</span>[CAPACITY];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Condition notFull = lock.newCondition();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Condition notEmpty = lock.newCondition();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> head = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> tail = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="comment">//ç”Ÿäº§è€…</span></span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">                <span class="keyword">try</span> {</span><br><span class="line">                    lock.lockInterruptibly();</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">100</span>; i++) {</span><br><span class="line">                        <span class="keyword">while</span> ((tail + <span class="number">1</span>) % CAPACITY == head) {</span><br><span class="line">                            <span class="keyword">try</span> {</span><br><span class="line">                                notFull.await();</span><br><span class="line">                            } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">                                e.printStackTrace();</span><br><span class="line">                            }</span><br><span class="line">                        }</span><br><span class="line">                        buffer[tail] = i;</span><br><span class="line">                        tail = (tail + <span class="number">1</span>) % CAPACITY;</span><br><span class="line">                        System.out.println(<span class="string">"ç”Ÿäº§è€…ç”Ÿäº§äº†"</span> + i);</span><br><span class="line">                        notEmpty.signal();</span><br><span class="line">                    }</span><br><span class="line">                } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                } <span class="keyword">finally</span> {</span><br><span class="line">                    lock.unlock();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ¶ˆè´¹è€…</span></span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">                <span class="keyword">try</span> {</span><br><span class="line">                    lock.lockInterruptibly();</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">100</span>; i++) {</span><br><span class="line">                        <span class="keyword">while</span> (head == tail) {</span><br><span class="line">                            <span class="keyword">try</span> {</span><br><span class="line">                                notEmpty.await();</span><br><span class="line">                            } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">                                e.printStackTrace();</span><br><span class="line">                            }</span><br><span class="line">                        }</span><br><span class="line">                        System.out.println(<span class="string">"æ¶ˆè´¹è€…æ¶ˆè´¹äº†"</span> + buffer[head]);</span><br><span class="line">                        head = (head + <span class="number">1</span>) % CAPACITY;</span><br><span class="line">                        notFull.signal();</span><br><span class="line">                    }</span><br><span class="line">                } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                } <span class="keyword">finally</span> {</span><br><span class="line">                    lock.unlock();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }).start();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="ä¸¤ç§é”çš„åŒºåˆ«"><a href="#ä¸¤ç§é”çš„åŒºåˆ«" class="headerlink" title="ä¸¤ç§é”çš„åŒºåˆ«"></a>ä¸¤ç§é”çš„åŒºåˆ«</h2><h3 id="åŒºåˆ«ä¸€ï¼š"><a href="#åŒºåˆ«ä¸€ï¼š" class="headerlink" title="åŒºåˆ«ä¸€ï¼š"></a>åŒºåˆ«ä¸€ï¼š</h3><p>synchronized æ˜¯é€šè¿‡è™šæ‹Ÿæœºå±‚é¢å®ç°çš„ï¼Œè€Œ ReentrantLock æ˜¯é€šè¿‡ JDK API å®ç°çš„</p>
<h3 id="åŒºåˆ«äºŒï¼šç­‰å¾…å¯ä¸­æ–­"><a href="#åŒºåˆ«äºŒï¼šç­‰å¾…å¯ä¸­æ–­" class="headerlink" title="åŒºåˆ«äºŒï¼šç­‰å¾…å¯ä¸­æ–­"></a>åŒºåˆ«äºŒï¼šç­‰å¾…å¯ä¸­æ–­</h3><p>ç­‰å¾…å¯ä¸­æ–­æ˜¯æŒ‡å½“æŒæœ‰é”çš„çº¿ç¨‹é•¿æœŸä¸é‡Šæ”¾é”çš„æ—¶å€™ï¼Œæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥é€‰æ‹©æ”¾å¼ƒç­‰å¾…ï¼Œæ”¹ä¸ºå¤„ç†å…¶ä»–äº‹æƒ…ã€‚å¯ç­‰å¾…ç‰¹æ€§å¯¹å¤„ç†æ‰§è¡Œæ—¶é—´éå¸¸é•¿çš„åŒæ­¥å—å¾ˆæœ‰å¸®åŠ©ã€‚</p>
<p>å…·ä½“è¯´æ¥ï¼Œå‡å¦‚ä¸šåŠ¡ä»£ç ä¸­æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼ŒThread1 å’Œ Thread2ã€‚å‡è®¾ Thread1 è·å–äº†å¯¹è±¡é”ï¼ŒThread2 å°†ç­‰å¾… Thread1 é‡Šæ”¾é”ã€‚</p>
<ul>
<li>ä½¿ç”¨synchronizedã€‚å¦‚æœ Thread1 ä¸é‡Šæ”¾ï¼ŒThread2 å°†ä¸€ç›´ç­‰å¾…ï¼Œä¸èƒ½è¢«ä¸­æ–­ã€‚</li>
<li>ä½¿ç”¨ReentrantLockã€‚å¦‚æœ Thread1 ä¸é‡Šæ”¾ï¼ŒThread2 ç­‰å¾…äº†å¾ˆé•¿æ—¶é—´ä»¥åï¼Œå¯ä»¥ä¸­æ–­ç­‰å¾…ï¼Œè½¬è€Œå»åšåˆ«çš„äº‹æƒ…ã€‚</li>
</ul>
<h3 id="åŒºåˆ«ä¸‰ï¼šå…¬å¹³é”"><a href="#åŒºåˆ«ä¸‰ï¼šå…¬å¹³é”" class="headerlink" title="åŒºåˆ«ä¸‰ï¼šå…¬å¹³é”"></a>åŒºåˆ«ä¸‰ï¼šå…¬å¹³é”</h3><p>å…¬å¹³é”æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…åŒä¸€ä¸ªé”æ—¶ï¼Œå¿…é¡»æŒ‰ç…§ç”³è¯·çš„æ—¶é—´é¡ºåºæ¥ä¾æ¬¡è·å¾—é”ï¼›è€Œéå…¬å¹³é”åˆ™ä¸èƒ½ä¿è¯è¿™ä¸€ç‚¹ã€‚éå…¬å¹³é”åœ¨é”è¢«é‡Šæ”¾æ—¶ï¼Œä»»ä½•ä¸€ä¸ªç­‰å¾…é”çš„çº¿ç¨‹éƒ½æœ‰æœºä¼šè·å¾—é”ã€‚ </p>
<ul>
<li><p>synchronizedçš„é”æ˜¯éå…¬å¹³é”</p>
</li>
<li><p>ReentrantLocké»˜è®¤æƒ…å†µä¸‹ä¹Ÿæ˜¯éå…¬å¹³é”ï¼Œä½†å¯ä»¥é€šè¿‡å¸¦ boolean çš„æ„é€ å‡½æ•°è¦æ±‚ä½¿ç”¨å…¬å¹³é”ã€‚</p>
</li>
</ul>
<h3 id="åŒºåˆ«å››ï¼šç»‘å®šå¤šä¸ªæ¡ä»¶"><a href="#åŒºåˆ«å››ï¼šç»‘å®šå¤šä¸ªæ¡ä»¶" class="headerlink" title="åŒºåˆ«å››ï¼šç»‘å®šå¤šä¸ªæ¡ä»¶"></a>åŒºåˆ«å››ï¼šç»‘å®šå¤šä¸ªæ¡ä»¶</h3><p>ReentrantLockå¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ªConditionå¯¹è±¡ï¼Œåªéœ€å¤šæ¬¡è°ƒç”¨ <code>newCondition()</code> æ–¹æ³•å³å¯ã€‚</p>
<p>synchronizedä¸­ï¼Œé”å¯¹è±¡çš„ <code>wait()</code> å’Œ <code>notify()</code>  æˆ– <code>notifyAll()</code> æ–¹æ³•å¯ä»¥å®ç°ä¸€ä¸ªéšå«çš„æ¡ä»¶ã€‚å¦‚æœéœ€è¦å¤šä¸ªæ¡ä»¶ï¼Œåªèƒ½å¤šåŠ é”ã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/12/05/%E4%B8%93%E4%B8%9A%E4%B9%A6%E7%B1%8D%E5%A4%87%E5%BF%98%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/05/%E4%B8%93%E4%B8%9A%E4%B9%A6%E7%B1%8D%E5%A4%87%E5%BF%98%E5%BD%95/" class="post-title-link" itemprop="url">ä¸“ä¸šä¹¦ç±å¤‡å¿˜å½•</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-12-05 19:52:22" itemprop="dateCreated datePublished" datetime="2019-12-05T19:52:22+08:00">2019-12-05</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/12/05/%E4%B8%93%E4%B8%9A%E4%B9%A6%E7%B1%8D%E5%A4%87%E5%BF%98%E5%BD%95/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/12/05/%E4%B8%93%E4%B8%9A%E4%B9%A6%E7%B1%8D%E5%A4%87%E5%BF%98%E5%BD%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://github.com/IBITM/ibitm.github.io/blob/master/img/%E5%AD%A6%E4%B9%A0%E4%B9%A6%E7%B1%8D.png?raw=true" alt></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/12/05/%E4%BB%8EComparable%E5%88%B0compareTo%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/05/%E4%BB%8EComparable%E5%88%B0compareTo%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">ä»Comparableåˆ°compareToæ–¹æ³•</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-12-05 16:47:20" itemprop="dateCreated datePublished" datetime="2019-12-05T16:47:20+08:00">2019-12-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®ç»“æ„ä¸ç®—æ³•</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/12/05/%E4%BB%8EComparable%E5%88%B0compareTo%E6%96%B9%E6%B3%95/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/12/05/%E4%BB%8EComparable%E5%88%B0compareTo%E6%96%B9%E6%B3%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä»Šå¤©åˆ·LeetCode <a href="https://leetcode-cn.com/problems/largest-number/" target="_blank" rel="noopener">179. æœ€å¤§æ•°</a> éœ€è¦ç”¨åˆ° String ç±»å‹çš„æ’åºé—®é¢˜ï¼Œå°±å…·ä½“çœ‹äº†ä¸€ä¸‹ Java çš„å®ç°æ–¹æ³•</p>
<p>String æ˜¯å®ç°äº† Comparable æ¥å£ï¼ŒComparable æ¥å£é‡Œé¢åªæœ‰ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ compareTo æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(String anotherString)</span> </span>{xxx}</span><br></pre></td></tr></tbody></table></figure>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ–‡æ¡£è¯´æ˜</p>
<blockquote>
<p>æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚æ¯”è¾ƒæ˜¯åŸºäºå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦çš„ Unicode å€¼ã€‚</p>
<p>å¦‚æœæœ¬èº«å­—ç¬¦ä¸²å¯¹è±¡çš„å­—å…¸åºåœ¨å‚æ•°å­—ç¬¦ä¸²ä¹‹å‰è¿”å›è´Ÿæ•´æ•°ï¼Œä¹‹åè¿”å›æ­£æ•´æ•°ï¼Œç›¸åŒè¿”å› 0ã€‚</p>
</blockquote>
<p>å­—å…¸åºæ˜¯ä»€ä¹ˆï¼Œè¿”å›å€¼æ˜¯æ€ä¹ˆç¡®å®šçš„å‘¢ï¼Ÿ</p>
<blockquote>
<p>å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²å­—å…¸åºä¸åŒï¼Œåˆ™å®ƒä»¬</p>
<ul>
<li>è¦ä¹ˆåœ¨æŸä¸ªç´¢å¼•å¤„å…·æœ‰ä¸åŒçš„å­—ç¬¦ï¼ˆç´¢å¼•å¿…é¡»æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ‰æ•ˆç´¢å¼•ï¼‰ï¼Œ</li>
<li>è¦ä¹ˆå®ƒä»¬çš„é•¿åº¦ä¸åŒ</li>
<li>æˆ–è€…ä»¥ä¸Šä¸¤è€…éƒ½å­˜åœ¨</li>
</ul>
<p>è¿”å›å€¼ç¡®å®šå¦‚ä¸‹:</p>
<ul>
<li>å¦‚æœå®ƒä»¬åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªç´¢å¼•ä½ç½®å…·æœ‰ä¸åŒçš„å­—ç¬¦ï¼Œå‡è®¾ k è¡¨ç¤ºç¬¬ä¸€ä¸ªä¸ç›¸åŒå­—ç¬¦ï¼Œè¿”å›ä¸¤ä¸ªå­—ç¬¦çš„å·® <code>this.charAt(k)-anotherString .charAt(k)</code></li>
<li>å¦‚æœæ²¡æœ‰å­—ç¬¦ä¸åŒï¼Œåˆ™æŒ‰å­—å…¸é¡ºåºï¼Œè¾ƒçŸ­çš„å­—ç¬¦ä¸²åœ¨è¾ƒé•¿çš„å­—ç¬¦ä¸²ä¹‹å‰ï¼Œè¿”å› <code>this.length()-anotherString.length()</code></li>
</ul>
</blockquote>
<p>æˆ‘ä»¬æ‹¿å‡ºä¸€ä¸ªå®ç°ç‰ˆæœ¬çœ‹ä¸€ä¸‹å®ƒçš„å®ç°é€»è¾‘</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(<span class="keyword">byte</span>[] value, <span class="keyword">byte</span>[] other, <span class="keyword">int</span> len1, <span class="keyword">int</span> len2)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> lim = Math.min(len1, len2);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k < lim; k++) {</span><br><span class="line">        <span class="keyword">if</span> (value[k] != other[k]) {</span><br><span class="line">            <span class="keyword">return</span> getChar(value, k) - getChar(other, k);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> len1 - len2;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/12/03/%E4%BB%8EACID%E5%88%B0CAP-BASE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/03/%E4%BB%8EACID%E5%88%B0CAP-BASE/" class="post-title-link" itemprop="url">ä»ACIDåˆ°CAP/BASE</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-12-03 21:01:40" itemprop="dateCreated datePublished" datetime="2019-12-03T21:01:40+08:00">2019-12-03</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/12/03/%E4%BB%8EACID%E5%88%B0CAP-BASE/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/12/03/%E4%BB%8EACID%E5%88%B0CAP-BASE/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/11/29/2019%E5%B9%B411%E6%9C%8829%E6%97%A5-%E9%9A%8F%E7%AC%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/29/2019%E5%B9%B411%E6%9C%8829%E6%97%A5-%E9%9A%8F%E7%AC%94/" class="post-title-link" itemprop="url">2019å¹´11æœˆ29æ—¥ éšç¬”</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-29 21:39:21" itemprop="dateCreated datePublished" datetime="2019-11-29T21:39:21+08:00">2019-11-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index">
                    <span itemprop="name">éšç¬”</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/11/29/2019%E5%B9%B411%E6%9C%8829%E6%97%A5-%E9%9A%8F%E7%AC%94/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/11/29/2019%E5%B9%B411%E6%9C%8829%E6%97%A5-%E9%9A%8F%E7%AC%94/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä»Šå¤©åŒ—äº¬ä¸‹äº†2019å¹´çš„ç¬¬ä¸€åœºé›ªğŸŒ¨ï¼Œè™½ç„¶ä¸å¤§ï¼Œä½†æ˜¯çº·çº·æ‰¬æ‰¬çš„åœºæ™¯è¿˜æ˜¯è®©äººå¿ƒç”Ÿæ¬¢å–œã€‚</p>
<p>è¿™åœºæ—©æ¥çš„é›ªæé†’æˆ‘ä»¬ï¼Œå°±è¿ä¹‹é—´æ„Ÿè§‰å¾ˆæ–°é²œçš„2019å¹´ä¹Ÿéƒ½å¿«è¦è¿‡å»äº†ã€‚</p>
<p>2019å¹´å‘ç”Ÿäº†ä»€ä¹ˆäº‹å‘¢ï¼Ÿ</p>
<p>ä»”ç»†æƒ³æƒ³å¥½åƒæ²¡æœ‰å‘ç”Ÿä»€ä¹ˆå¤ªå¤§çš„æ”¹å˜ï¼Œä½†æ˜¯å¥½åƒä¹Ÿæœ‰ä¸€äº›ä»€ä¹ˆä¸åŒã€‚</p>
<p>åœ¨æˆ‘çš„å°è±¡é‡Œ2018å¹´çš„ä¸‹åŠå¹´æ˜¯é»‘è‰²çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘å¯¹ç€2019å¹´æœ‰çš„ä¸ä¸€æ ·çš„æœŸå¾…ï¼ŒæœŸå¾…èƒ½æŠŠå°è®ºæ–‡èµ¶å¿«åšå‡ºæ¥ï¼ŒæœŸå¾…èƒ½å­¦ä¼šå¾ˆå¤šæ–°çš„æŠ€èƒ½ï¼ŒæœŸå¾…èƒ½å»ä¸€çº¿äº’è”ç½‘å…¬å¸å®ä¹ ï¼ŒæœŸå¾…ç€èƒ½å¤šè¯»ä¹¦ç­‰ç­‰ç­‰ç­‰ã€‚</p>
<p>å¥½åƒæœŸå¾…çš„å¾ˆå¤šäº‹éƒ½æ²¡æœ‰åšæŒä¸‹æ¥ï¼Œä½†æ˜¯å¥½åƒä¹Ÿæœ‰å¾ˆå¤šæ„å¤–çš„æ”¶è·ï¼Œå¯èƒ½è¿™å°±æ˜¯äººç”Ÿå§ï¼Œæ€»ä¸ä¼šè®©ä½ ä¸€å¸†é£é¡ºï¼Œä½†æ˜¯åˆæ€»ä¼šåœ¨ä¸€äº›ç»†ææœ«èŠ‚çš„åœ°æ–¹ç»™ä½ ä¸€ç‚¹å¸Œæœ›ã€‚</p>
<p>æˆ‘æ€»è¯´ï¼Œç§ä¸€æ£µæ ‘æœ€å¥½çš„æ—¶é—´æ˜¯åå¹´å‰ï¼Œå…¶æ¬¡å°±æ˜¯ç°åœ¨ï¼Œæ¯æ¬¡è¯´å®Œè¿™å¥è¯ï¼Œæˆ‘éƒ½èƒ½é‡æŒ¯æ——é¼“ä¸€æ®µæ—¶é—´(è‡³å°‘æœ‰åŠå¤©å§ï¼Œæˆ‘ä¹Ÿä¸ç¡®å®šğŸ¤£)</p>
<p>æœ€è¿‘æˆ‘å‘ç°äº†ä¸€ä¸ªæˆ‘å¾ˆä¸å¥½çš„åœ°æ–¹ï¼Œå½“æˆ‘çš„è®¡åˆ’è¢«æ‰“ä¹±æˆ–è€…å—æŒ«çš„æ—¶å€™ï¼Œæˆ‘æ€»æ˜¯å½’ç»“äºè‡ªèº«ä¹‹å‰çš„è®¡åˆ’æ²¡æœ‰åšæŒä¸‹å»ï¼ŒæŠŠæ‰€æœ‰çš„è¿‡é”™éƒ½æ¨åˆ°äº†æ˜¨å¤©çš„è‡ªå·±èº«ä¸Šï¼Œè®©ç°åœ¨çš„è‡ªå·±è·å¾—ä¸€ç‚¹å¿ƒç†å®‰æ…°ã€‚</p>
<p>å¸Œæœ›å‘ç°äº†è¿™ä¸€ç‚¹çš„æˆ‘ï¼Œèƒ½åŠæ—¶çš„æ”¹æ­£ä¸€ä¸‹å§ï¼Œ</p>
<p>äººç”Ÿæ€»ä¼šæœ‰å¾ˆå¤šçš„ä¸å¦‚æ„ï¼Œæ™´æœ‰æ—¶é£ï¼Œé˜´æœ‰æ—¶é›¨ï¼Œè®©è‡ªå·±å¿«ä¹ä¸€ç‚¹å§ã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/11/29/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/29/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">èƒŒåŒ…é—®é¢˜</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-29 16:09:22" itemprop="dateCreated datePublished" datetime="2019-11-29T16:09:22+08:00">2019-11-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®ç»“æ„ä¸ç®—æ³•</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/11/29/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/11/29/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å¾…è¡¥å……</p>
<h2 id="0-1èƒŒåŒ…é—®é¢˜"><a href="#0-1èƒŒåŒ…é—®é¢˜" class="headerlink" title="0/1èƒŒåŒ…é—®é¢˜"></a>0/1èƒŒåŒ…é—®é¢˜</h2><h3 id="äºŒç»´åŠ¨æ€è§„åˆ’"><a href="#äºŒç»´åŠ¨æ€è§„åˆ’" class="headerlink" title="äºŒç»´åŠ¨æ€è§„åˆ’"></a>äºŒç»´åŠ¨æ€è§„åˆ’</h3><p>æœ‰ä¸€ä¸ªå®¹é‡ä¸º N çš„èƒŒåŒ…ï¼Œè¦ç”¨è¿™ä¸ªèƒŒåŒ…è£…ä¸‹ç‰©å“çš„ä»·å€¼æœ€å¤§ï¼Œè¿™äº›ç‰©å“æœ‰ä¸¤ä¸ªå±æ€§ï¼šä½“ç§¯ w å’Œä»·å€¼ vã€‚</p>
<p>å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ <code>dp</code> å­˜å‚¨æœ€å¤§ä»·å€¼ï¼Œå…¶ä¸­ <code>dp[i][j]</code> è¡¨ç¤ºå‰ i ä»¶ç‰©å“ä½“ç§¯ä¸è¶…è¿‡ j çš„æƒ…å†µä¸‹èƒ½è¾¾åˆ°çš„æœ€å¤§ä»·å€¼ã€‚è®¾ç¬¬ i ä»¶ç‰©å“ä½“ç§¯ä¸º wï¼Œä»·å€¼ä¸º vï¼Œæ ¹æ®ç¬¬ i ä»¶ç‰©å“æ˜¯å¦æ·»åŠ åˆ°èƒŒåŒ…ä¸­ï¼Œå¯ä»¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºï¼š</p>
<ul>
<li>ç¬¬ i ä»¶ç‰©å“æ²¡æ·»åŠ åˆ°èƒŒåŒ…ï¼Œæ€»ä½“ç§¯ä¸è¶…è¿‡ j çš„å‰ i ä»¶ç‰©å“çš„æœ€å¤§ä»·å€¼å°±æ˜¯æ€»ä½“ç§¯ä¸è¶…è¿‡ j çš„å‰ i-1 ä»¶ç‰©å“çš„æœ€å¤§ä»·å€¼ï¼Œ<code>dp[i][j] = dp[i-1][j]</code>ã€‚</li>
<li>ç¬¬ i ä»¶ç‰©å“æ·»åŠ åˆ°èƒŒåŒ…ä¸­ï¼Œ<code>dp[i][j] = dp[i-1][j-w] + v</code>ã€‚</li>
</ul>
<p>ç¬¬ i ä»¶ç‰©å“å¯æ·»åŠ ä¹Ÿå¯ä»¥ä¸æ·»åŠ ï¼Œå–å†³äºå“ªç§æƒ…å†µä¸‹æœ€å¤§ä»·å€¼æ›´å¤§ã€‚å› æ­¤ï¼Œ0-1 èƒŒåŒ…çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<script type="math/tex; mode=display">
dp[i][j] = max(dp[i-1][j],dp[i-1][j-w]+v)</script><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        W è¡¨ç¤ºèƒŒåŒ…èƒ½å®¹çº³çš„æœ€å¤§é‡é‡</span></span><br><span class="line"><span class="comment">        N è¡¨ç¤ºç‰©å“çš„æ•°é‡</span></span><br><span class="line"><span class="comment">        wiehgts è¡¨ç¤º N ä»¶ç‰©å“çš„é‡é‡</span></span><br><span class="line"><span class="comment">        value è¡¨ç¤º N ä»¶ç‰©å“çš„ä»·å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">knapsack</span><span class="params">(<span class="keyword">int</span> W, <span class="keyword">int</span> N, <span class="keyword">int</span>[] weights, <span class="keyword">int</span>[] values)</span> </span>{</span><br><span class="line">        <span class="comment">//dp[i][j] è¡¨ç¤ºåªæ”¾å‰ i ä»¶çš„å•†å“ï¼Œä½“ç§¯ä¸è¶…è¿‡ j çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[N + <span class="number">1</span>][W + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i <= N; i++) {</span><br><span class="line">            <span class="keyword">int</span> w = weights[i - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">int</span> v = values[i - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j <= w; j++) {</span><br><span class="line">                <span class="keyword">if</span> (j >= w) {</span><br><span class="line">                    dp[i][j] = Math.max(dp[i - <span class="number">1</span>][j], dp[i - <span class="number">1</span>][j - w] + v);</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[N][W];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>æˆ‘ä»¬ä»¥ä¸‹é¢çš„ç‰©å“ä¸¾ä¾‹è¯´æ˜æ±‚è§£çš„è¿‡ç¨‹</strong></p>
<p></p><div align="left"> <img src="https://github.com/IBITM/ibitm.github.io/blob/master/img/%E6%9C%AA%E5%91%BD%E5%90%8D%E8%A1%A8%E5%8D%952.png?raw=true" width="274px" height="141px"> </div><br>ä¸‹é¢ä»¥å››ä¸ªçŠ¶æ€çš„è®¡ç®—ä¸¾ä¾‹<p></p>
<p></p><div align="left"> <img src="https://github.com/IBITM/ibitm.github.io/blob/master/img/%E6%9C%AA%E5%91%BD%E5%90%8D%E8%A1%A8%E5%8D%95.png?raw=true" width="1108px" height="535px"> </div><p></p>
<h3 id="ä¸€ç»´åŠ¨æ€è§„åˆ’"><a href="#ä¸€ç»´åŠ¨æ€è§„åˆ’" class="headerlink" title="ä¸€ç»´åŠ¨æ€è§„åˆ’"></a>ä¸€ç»´åŠ¨æ€è§„åˆ’</h3><p>è§‚å¯ŸçŠ¶æ€è½¬ç§»æ–¹ç¨‹æˆ–è€…å¡«å……è¡¨æ ¼çš„é¡ºåºï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå‰ i ä»¶ç‰©å“çš„çŠ¶æ€ä»…ä¸å‰ i-1 ä»¶ç‰©å“çš„çŠ¶æ€æœ‰å…³ï¼Œå› æ­¤å¯ä»¥å°† dp å®šä¹‰ä¸ºä¸€ç»´æ•°ç»„ï¼Œè¡¨ç¤ºå®¹é‡ä¸º j æ—¶ï¼Œå¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚</p>
<script type="math/tex; mode=display">
dp[j] = max(dp[j],dp[j-w]+v)</script><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç­‰å·å·¦è¾¹çš„<code>dp[j]</code>è¡¨ç¤ºå‰ i ä»¶å•†å“å®¹é‡ä¸º j æ—¶å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ï¼Œæœ¬è´¨ä¸Šæ˜¯<code>dp[i][j]</code>ï¼›ç­‰å·å³è¾¹çš„<code>dp[j]</code>å’Œ<code>dp[j-w]</code>æ˜¯å‰ i -1 ä»¶å•†å“æ—¶å®¹é‡åˆ†åˆ«ä¸º j å’Œ j-w æ—¶è·å¾—çš„æœ€å¤§ä»·å€¼ï¼Œæœ¬è´¨ä¸Šå…¶å®æ˜¯<code>dp[i-1][j]</code>å’Œ<code>dp[i-1][j-w]</code>ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å®ç°ä»£ç çš„æ—¶å€™ï¼Œå†…å±‚å¾ªç¯è¿˜æ˜¯æŒ‰ç…§å®¹é‡ä»å°åˆ°å¤§å¾ªç¯ï¼Œå°±ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯<code>dp[j-w]</code>è¡¨ç¤ºçš„ä¸å†æ˜¯<code>dp[i-1][j-w]</code>è€Œæ˜¯<code>dp[i][j-w]</code>ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å®ç°çš„æ—¶å€™å†…å±‚å¾ªç¯ï¼Œè¦æŒ‰ç…§å®¹é‡ä»å¤§å‘å°æ¥å¾ªç¯ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">knapsack</span><span class="params">(<span class="keyword">int</span> W, <span class="keyword">int</span> N, <span class="keyword">int</span>[] weights, <span class="keyword">int</span>[] values)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[W + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i <= N; i++) {</span><br><span class="line">        <span class="keyword">int</span> w = weights[i - <span class="number">1</span>], v = values[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = W; j >= <span class="number">1</span>; j--) {</span><br><span class="line">            <span class="keyword">if</span> (j >= w) {</span><br><span class="line">                dp[j] = Math.max(dp[j], dp[j - w] + v);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[W];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>å†…å®¹å‚è€ƒ<a href="https://cyc2018.github.io/CS-Notes/#/notes/Leetcode%20%E9%A2%98%E8%A7%A3%20-%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92?id=_0-1-%e8%83%8c%e5%8c%85" target="_blank" rel="noopener">Leetcodeé¢˜è§£/åŠ¨æ€è§„åˆ’/0-1-èƒŒåŒ…</a></p>
<h2 id="äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜"><a href="#äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜"></a>äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜</h2><p>äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜æœ¬è´¨ä¸Šåªæ˜¯0/1èƒŒåŒ…çš„å˜å½¢ï¼Œå¤šæ·»åŠ ä¸€ç§è´¹ç”¨ã€‚äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜æ˜¯æŒ‡ï¼š</p>
<ul>
<li><p>å¯¹äºæ¯ä»¶ç‰©å“ï¼Œå…·æœ‰ä¸¤ç§ä¸åŒçš„è´¹ç”¨å’Œä»·å€¼ï¼ˆæ¯”å¦‚ä¸€ä¸ªç‰©å“æ—¢æœ‰ä½“ç§¯åˆæœ‰é‡é‡ï¼Œè¿˜æœ‰é€‰æ‹©å®ƒå¾—åˆ°çš„ä»·å€¼ï¼‰ï¼Œé€‰æ‹©è¿™ä»¶ç‰©å“å¿…é¡»åŒæ—¶ä»˜å‡ºè¿™ä¸¤ç§ä»£ä»·</p>
</li>
<li><p>å¯¹äºæ¯ç§ä»£ä»·éƒ½æœ‰ä¸€ä¸ªå¯ä»˜å‡ºçš„æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯èƒŒåŒ…å®¹é‡ã€‚</p>
</li>
<li><p>é—®æ€æ ·é€‰æ‹©ç‰©å“å¯ä»¥å¾—åˆ°æœ€å¤§çš„ä»·å€¼ã€‚</p>
</li>
</ul>
<p>å†æ¬¡ä»¥èƒŒåŒ…é—®é¢˜ä¸ºä¾‹ï¼š</p>
<p>æœ‰ä¸€ä¸ªå®¹é‡ä¸º N ã€æ‰¿é‡ä¸º W çš„èƒŒåŒ…ï¼Œè¦ç”¨è¿™ä¸ªèƒŒåŒ…è£…ä¸‹ç‰©å“çš„ä»·å€¼æœ€å¤§ï¼Œè¿™äº›ç‰©å“æœ‰ä¸‰ä¸ªå±æ€§ï¼šä½“ç§¯ volumeã€é‡é‡ weight å’Œä»·å€¼ valueã€‚</p>
<p>å®šä¹‰ä¸€ä¸ªä¸‰ç»´æ•°ç»„ <code>dp</code> å­˜å‚¨æœ€å¤§ä»·å€¼ï¼Œå…¶ä¸­ <code>dp[i][j][k]</code> è¡¨ç¤ºå‰ i ä»¶ç‰©å“ä½“ç§¯ä¸è¶…è¿‡ j é‡é‡ä¸è¶…è¿‡ k æ—¶èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚</p>
<p>è®¾ç¬¬ i ä»¶ç‰©å“ä½“ç§¯ä¸º volumeã€é‡é‡ä¸ºweightã€ä»·å€¼ä¸º valueï¼Œæ ¹æ®ç¬¬ i ä»¶ç‰©å“æ˜¯å¦æ·»åŠ åˆ°èƒŒåŒ…ä¸­ï¼Œå¯ä»¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºï¼š</p>
<ul>
<li>ç¬¬ i ä»¶ç‰©å“æ²¡æ·»åŠ åˆ°èƒŒåŒ…ï¼Œä½“ç§¯ä¸è¶…è¿‡ j é‡é‡ä¸è¶…è¿‡ k çš„å‰ i ä»¶ç‰©å“çš„æœ€å¤§ä»·å€¼å°±æ˜¯ä½“ç§¯ä¸è¶…è¿‡ j é‡é‡ä¸è¶…è¿‡ k çš„å‰ i-1 ä»¶ç‰©å“çš„æœ€å¤§ä»·å€¼ï¼Œ<code>dp[i][j][k] = dp[i-1][j][k]</code>ã€‚</li>
<li>ç¬¬ i ä»¶ç‰©å“æ·»åŠ åˆ°èƒŒåŒ…ä¸­ï¼Œ<code>dp[i][j][k] = dp[i-1][j-volume][k-weight] + value</code>ã€‚</li>
</ul>
<p>ç¬¬ i ä»¶ç‰©å“å¯æ·»åŠ ä¹Ÿå¯ä»¥ä¸æ·»åŠ ï¼Œå–å†³äºå“ªç§æƒ…å†µä¸‹æœ€å¤§ä»·å€¼æ›´å¤§ã€‚å› æ­¤ï¼Œ0-1 èƒŒåŒ…çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<script type="math/tex; mode=display">
dp[i][j][k] = max(dp[i-1][j][k],dp[i-1][j-volume][k-weight] + value)</script><p>åŒæ ·å‹ç¼©ç»´åº¦ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—äºŒç»´æ•°ç»„ä¸‹çš„ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹</p>
<script type="math/tex; mode=display">
dp[j][k] = max(dp[j][k],dp[j-volume][k-weight] + value)</script><p>æˆ‘ä»¬ä»¥ <a href="https://leetcode-cn.com/problems/ones-and-zeroes/" target="_blank" rel="noopener">474. ä¸€å’Œé›¶</a> ä¸ºä¾‹è¯´æ˜äºŒç»´èƒŒåŒ…çš„è§£é¢˜è¿‡ç¨‹</p>
<p>åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²å¯¹åº”ä¸€ä¸ªç‰©å“ï¼Œæ¯é€‰æ‹©ä¸€ä¸ªå­—ç¬¦ä¸²å°±å¾—èŠ±è´¹ä¸€å®šé‡çš„ 0 å’Œ 1ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²çš„ä»·å€¼éƒ½æ˜¯ 1ï¼Œ0 å’Œ 1çš„æœ€å¤§å®¹é‡ä¸º m å’Œ n ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMaxForm</span><span class="params">(String[] strs, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         dp[i][j] è¡¨ç¤ºå½“ i ä¸ª 0 å’Œ j ä¸ª 1 æ—¶ï¼Œæ‰€èƒ½æ”¶è·çš„æœ€å¤§ä»·å€¼ï¼Œä¹Ÿå°±æ˜¯æœ€å¤šå­—ç¬¦ä¸²çš„ä¸ªæ•°ã€‚</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (String str : strs) {</span><br><span class="line">            <span class="keyword">int</span> one = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> zero = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < str.length(); i++) {</span><br><span class="line">                <span class="keyword">if</span> (str.charAt(i) == <span class="string">'0'</span>)</span><br><span class="line">                    zero++;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    one++;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">//ä¸ºä»€ä¹ˆè¦é€†åºéå†ï¼Œå‚è€ƒ0/1 èƒŒåŒ…çš„è§£é‡Šã€‚</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = m; i >= zero; i--) {</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = n; j >= one; j--) {</span><br><span class="line">                    dp[i][j] = Math.max(dp[i][j], dp[i - zero][j - one] + <span class="number">1</span>);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[m][n];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="å®Œå…¨èƒŒåŒ…é—®é¢˜"><a href="#å®Œå…¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="å®Œå…¨èƒŒåŒ…é—®é¢˜"></a>å®Œå…¨èƒŒåŒ…é—®é¢˜</h2><p>å®Œå…¨èƒŒåŒ…é—®é¢˜å’Œ 0/1 èƒŒåŒ…æœ€å¤§çš„ä¸åŒï¼Œåœ¨äº<strong>ç‰©å“æ˜¯å¯ä»¥é‡å¤é€‰æ‹©çš„</strong>ã€‚</p>
<p>æˆ‘ä»¬ä»¥ <a href="https://leetcode-cn.com/problems/coin-change/" target="_blank" rel="noopener">é›¶é’±å…‘æ¢</a> è¿™é“ç»å…¸é¢˜ç›®ä¸¾ä¾‹ï¼Œè¯´æ˜å®Œå…¨èƒŒåŒ…é—®é¢˜çš„ç‰¹ç‚¹å’Œæ±‚è§£æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬åŒæ ·å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„<code>dp[i][j]</code> ï¼Œ è¡¨ç¤ºè€ƒè™‘å‰ i <strong>ç§</strong>ç¡¬å¸ï¼Œå‡‘å‡ºé‡‘é¢ä¸º j çš„æœ€å°‘ç¡¬å¸æ•°ç›®ã€‚</p>
<p>æ‰€ä»¥æ¯ä¸ªç¡¬å¸çš„é¢å€¼ä¸å†æ˜¯ä»·å€¼è€Œæ˜¯èƒŒåŒ…é—®é¢˜çš„è´¹ç”¨ï¼Œæ¯ç§ç±»å‹çš„ç¡¬å¸çš„ä»·å€¼éƒ½æ˜¯ 1ã€‚</p>
<p>è¿™é‡Œå‡ºç°äº†ä¸ 0/1 èƒŒåŒ…çš„<strong>ç¬¬ä¸€ä¸ªå·®åˆ«</strong>ï¼Œ0/1 èƒŒåŒ…åªæœ‰ä¸¤ç§é€‰æ‹©æ‹¿æˆ–è€…ä¸æ‹¿ï¼Œå¯ä»¥ç†è§£ä¸ºæ‹¿ 0 ä¸ªå’Œæ‹¿ 1 ä¸ªã€‚</p>
<p>è€Œå®Œå…¨èƒŒåŒ…é€‰æ‹©å°±å¤šäº†ï¼Œå¯ä»¥æ‹¿ 1 ä¸ªï¼Œ2 ä¸ªï¼Œ3 ä¸ªç­‰ç­‰ç›´åˆ°è¾¾åˆ°æœ€å¤§å®¹é‡ï¼Œæ‰€ä»¥çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º</p>
<script type="math/tex; mode=display">
dp[i][j] = min(dp[i-1][j], dp[i-1][j-c]+1, f[i-1][j-2*c]+2, ..., f[i-1][j-k*c]+k)</script><p>c è¡¨ç¤ºç¬¬ i ç§ç¡¬å¸çš„é¢å€¼ï¼Œä¹Ÿå°±æ˜¯è´¹ç”¨ã€‚</p>
<p>æˆ‘ä»¬å‘ç°å­˜åœ¨ä¸€å®šçš„é‡å¤è®¡ç®—</p>
<script type="math/tex; mode=display">
dp[i][j-c] = min(dp[i-1][j-c], dp[i-1][j-2*c]+1, f[i-1][j-2*c]+3, ..., f[i-1][j-k*c]+(k+1))</script><p>ç»“åˆä¸Šé¢ä¸¤è€…</p>
<script type="math/tex; mode=display">
dp[i][j] = min(dp[i-1][j],dp[i][j-c]+1)</script><p>åˆ†æä¸Šé¢çš„åŠ¨æ€è½¬ç§»æ–¹ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ åªè€ƒè™‘å‰ i ç§ç¡¬å¸ï¼Œå‡‘å‡ºé‡‘é¢ä¸º j çš„æœ€å°‘ç¡¬å¸æ•°ç›®å¯ä»¥ç”±ä¸¤ç§çŠ¶æ€å¾—åˆ°ã€‚</p>
<p>å°†äºŒç»´å‹ç¼©åˆ°ä¸€ç»´</p>
<script type="math/tex; mode=display">
dp[j] = min(dp[j], dp[j-c] + 1)</script><p>åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥å®Œå…¨èƒŒåŒ…å’Œ0/1èƒŒåŒ…çš„<strong>ç¬¬äºŒä¸ªä¸åŒ</strong>ï¼Œå®Œå…¨èƒŒåŒ…ä¸­<code>dp[j-c]</code>ä¸å†è¡¨ç¤º<code>dp[i-1][j-c]</code>è€Œæ˜¯<code>dp[i][j-c]</code>ã€‚ä¸ºä»€ä¹ˆè¦å¼ºè°ƒè¿™ä¸€ç‚¹å‘¢ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´æˆ‘ä»¬çš„ç¼–ç¨‹å®ç°å’Œ 0/1 èƒŒåŒ…å‡ºç°å·®å¼‚ã€‚</p>
<p>åœ¨ 0/1 èƒŒåŒ…ä¸­ï¼Œæˆ‘ä»¬å¦‚æœæ­£åºéå†èƒŒåŒ…å®¹é‡ï¼Œä¼šå¯¼è‡´<code>dp[i-1][j-c]</code>è¢«<code>dp[i][j-c]</code>è¦†ç›–ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é€†åºéå†ã€‚</p>
<p>è€Œåœ¨å®Œå…¨èƒŒåŒ…é—®é¢˜ä¸­ï¼Œ<code>dp[j-c]</code>è¡¨ç¤ºçš„å°±æ˜¯<code>dp[i][j-c]</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ­£åºéå†èƒŒåŒ…å®¹é‡ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li><p>å½“ç‰©å“ä¸ªæ•°æœ‰é™æ—¶ï¼Œæˆ‘ä»¬é‡‡å–é€†åºçš„å¾ªç¯éå†å®¹é‡ï¼Œå¦‚0/1èƒŒåŒ…é—®é¢˜ã€‚</p>
</li>
<li><p>å½“ç‰©å“ä¸ªæ•°æ— é™æ˜¯ï¼Œæˆ‘ä»¬é‡‡ç”¨é¡ºåºçš„å¾ªç¯ï¼Œå¦‚å®Œå…¨èƒŒåŒ…é—®é¢˜ã€‚</p>
</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/11/27/646-%E6%9C%80%E9%95%BF%E6%95%B0%E5%AF%B9%E9%93%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/27/646-%E6%9C%80%E9%95%BF%E6%95%B0%E5%AF%B9%E9%93%BE/" class="post-title-link" itemprop="url">646. æœ€é•¿æ•°å¯¹é“¾</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-27 12:15:10" itemprop="dateCreated datePublished" datetime="2019-11-27T12:15:10+08:00">2019-11-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®ç»“æ„ä¸ç®—æ³•</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/11/27/646-%E6%9C%80%E9%95%BF%E6%95%B0%E5%AF%B9%E9%93%BE/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/11/27/646-%E6%9C%80%E9%95%BF%E6%95%B0%E5%AF%B9%E9%93%BE/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="646-æœ€é•¿æ•°å¯¹é“¾"><a href="#646-æœ€é•¿æ•°å¯¹é“¾" class="headerlink" title="646. æœ€é•¿æ•°å¯¹é“¾"></a><a href="https://leetcode-cn.com/problems/maximum-length-of-pair-chain/" target="_blank" rel="noopener">646. æœ€é•¿æ•°å¯¹é“¾</a></h4><p>å¦‚ä½•æ’åˆ— pair ä½¿å¾— pair é“¾æœ€é•¿ï¼Œç±»ä¼¼äºğŸ‘‰<a href="https://zh.wikipedia.org/wiki/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">è´ªå¿ƒç®—æ³•</a>çš„ç»å…¸é—®é¢˜-âœï¸<a href="https://en.wikipedia.org/wiki/Activity_selection_problem" target="_blank" rel="noopener">æ´»åŠ¨é€‰æ‹©é—®é¢˜</a></p>
<p>è¿™ç±»é—®é¢˜çš„è´ªå¿ƒç®—æ³•å°±æ˜¯ï¼š</p>
<p>åœ¨ç°æœ‰çš„æ´»åŠ¨ä¸­é€‰æ‹©ã€Œæœ€æ—©ç»“æŸã€çš„æ´»åŠ¨ï¼Œå¯¹åº”åˆ°æˆ‘ä»¬çš„è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯é€‰æ‹© pair ä¸­ç¬¬äºŒä½æœ€å°çš„æ•°ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/11/27/646-%E6%9C%80%E9%95%BF%E6%95%B0%E5%AF%B9%E9%93%BE/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/11/26/Leetcode-%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/26/Leetcode-%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">Leetcode é¢˜è§£</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-26 21:04:49" itemprop="dateCreated datePublished" datetime="2019-11-26T21:04:49+08:00">2019-11-26</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/11/26/Leetcode-%E9%A2%98%E8%A7%A3/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/11/26/Leetcode-%E9%A2%98%E8%A7%A3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f389.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png?v8">ğŸ‰</span> still works.</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/11/26/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%84%E5%90%84%E7%A7%8D%E5%8F%98%E5%BD%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/26/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%84%E5%90%84%E7%A7%8D%E5%8F%98%E5%BD%A2/" class="post-title-link" itemprop="url">äºŒåˆ†æŸ¥æ‰¾çš„å„ç§å˜å½¢</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-26 17:08:43" itemprop="dateCreated datePublished" datetime="2019-11-26T17:08:43+08:00">2019-11-26</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®ç»“æ„ä¸ç®—æ³•</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/11/26/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%84%E5%90%84%E7%A7%8D%E5%8F%98%E5%BD%A2/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/11/26/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%84%E5%90%84%E7%A7%8D%E5%8F%98%E5%BD%A2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="äºŒåˆ†æŸ¥æ‰¾ï¼Œå¯»æ‰¾æ’å…¥çš„ä½ç½®"><a href="#äºŒåˆ†æŸ¥æ‰¾ï¼Œå¯»æ‰¾æ’å…¥çš„ä½ç½®" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾ï¼Œå¯»æ‰¾æ’å…¥çš„ä½ç½®"></a>äºŒåˆ†æŸ¥æ‰¾ï¼Œå¯»æ‰¾æ’å…¥çš„ä½ç½®</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> h, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">    <span class="comment">//å¼€åŒºé—´</span></span><br><span class="line">    <span class="keyword">while</span> (l < h) {</span><br><span class="line">        <span class="keyword">int</span> m = l + (h - l) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[m] == k) {</span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (nums[m] > k) {</span><br><span class="line">            h = m;</span><br><span class="line">        } <span class="keyword">else</span></span><br><span class="line">            l = m + <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ibitm.github.io/2019/11/26/Scala-and-java-version-compatibility-issues/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
      <meta itemprop="name" content="å¼ æ½‡">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±‚ç´¢ä¹‹å¿ƒ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/26/Scala-and-java-version-compatibility-issues/" class="post-title-link" itemprop="url">Scalaå’ŒJavaçš„ç‰ˆæœ¬å…¼å®¹é—®é¢˜</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-26 11:54:09" itemprop="dateCreated datePublished" datetime="2019-11-26T11:54:09+08:00">2019-11-26</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2019/11/26/Scala-and-java-version-compatibility-issues/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/11/26/Scala-and-java-version-compatibility-issues/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://github.com/IBITM/ibitm.github.io/blob/master/img/1574740536160.png?raw=true" alt></p>
<p><a href="https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html" target="_blank" rel="noopener">JDK COMPATIBILITY</a></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="å¼ æ½‡"
      src="/uploads/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191124213944.png">
  <p class="site-author-name" itemprop="name">å¼ æ½‡</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ibitm" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;ibitm" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/mailto:875080958@qq.com" title="E-Mail â†’ mailto:875080958@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://www.zhihu.com/people/zhang-xiao-61-53/activities" title="zhihu â†’ http:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;zhang-xiao-61-53&#x2F;activities" rel="noopener" target="_blank"><i class="fa fa-fw fa-zhihu"></i>zhihu</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">å¼ æ½‡</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.5.0
  </div>

        








        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  




  <script src="/js/local-search.js"></script>













  

  
      
<script type="text/x-mathjax-config">
    MathJax.Ajax.config.path['mhchem'] = '//cdn.jsdelivr.net/npm/mathjax-mhchem@3';

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        extensions: ['[mhchem]/mhchem.js'],
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  


<script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: '59jSyrRz5vygBBEppvd4Inud-MdYXbMMI',
    appKey: '14TLHCXpYXedwKjmamiT2knn',
    placeholder: "Just go go",
    avatar: 'retro',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn',
    path: location.pathname,
    recordIP: false,
    serverURLs: ''
  });
}, window.Valine);
</script>

</body>
</html>
